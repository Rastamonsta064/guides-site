(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(20),i=c.n(s),r=c(9),a=c(7),l=c(6),j="SET_EVENTS",o="SET_GUIDES",d="DELL_EVENT",b="SET_ORDERS",h="https://guides-site-server.herokuapp.com/",u=function(){return function(e){fetch(h+"events/",{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status.toString())})).then((function(t){return e(function(e){return{type:j,payload:e}}(t))})).catch((function(e){return console.log(e.message)}))}},O=function(e){return function(t){fetch(h+"events/"+e,{method:"DELETE"}).then((function(c){if(!c.ok)throw new Error(c.status.toString());t(function(e){return{type:d,payload:e}}(e)),console.log("Event with id: ".concat(e," deleted"))}))}},m=function(e,t){return function(c){fetch(h+"events/patch_registered/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error(e.status.toString());console.log(e.json())})).then((function(){return c(u())})).catch((function(e){return console.log(e)}))}},x=function(){return function(e){fetch(h+"guides/",{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status.toString())})).then((function(t){return e(function(e){return{type:o,payload:e}}(t))})).catch((function(e){return console.log(e)}))}},v=function(){return function(e){fetch(h+"orders/",{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status.toString())})).then((function(t){return e(function(e){return{type:b,payload:e}}(t))})).catch((function(e){return console.log(e.message)}))}},N=function(e){return function(t){fetch(h+"orders/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error(e.status.toString());console.log(e.json())})).then((function(){return t(v())})).catch((function(e){return console.log(e)}))}},f=(c(66),c(8)),g=c(0),p=function(e){return Object(g.jsxs)("div",{className:"row border border-success m-2 p-2 bg-secondary text-dark bg-opacity-25 align-items-center",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("img",{width:"150",height:"150",src:e.event.eventPhoto,alt:"Event",className:"rounded mx-auto border border-success"})}),Object(g.jsxs)("div",{className:"col-6",children:[Object(g.jsx)("h3",{children:e.event.eventName}),Object(g.jsx)("p",{children:e.event.eventShortDescription}),Object(g.jsx)("hr",{}),Object(g.jsxs)("p",{children:[" \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430: ",e.event.eventDifficulty]})]}),Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("p",{children:function(e){var t,c=new Date(e).toLocaleDateString().split(".");switch(c[1]){case"02":t="\u0424\u0435\u0432\u0440\u0430\u043b\u044f";break;case"03":t="\u041c\u0430\u0440\u0442\u0430";break;case"04":t="\u0410\u043f\u0440\u0435\u043b\u044f";break;case"05":t="\u041c\u0430\u0439";break;case"06":t="\u0418\u044e\u043d\u044f";break;case"07":t="\u0418\u044e\u043b\u044f";break;case"08":t="\u0410\u0432\u0433\u0443\u0441\u0442\u0430";break;case"09":t="\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f";break;case"10":t="\u041e\u043a\u0442\u044f\u0431\u0440\u044f";break;case"11":t="\u041d\u043e\u044f\u0431\u0440\u044f";break;case"12":t="\u0414\u0435\u043a\u0430\u0431\u0440\u044f";break;default:t="\u042f\u043d\u0432\u0430\u0440\u044f"}return"".concat(c[0]," ").concat(t)}(e.event.eventDate)}),Object(g.jsxs)("p",{children:["\u0412\u0430\u0448 \u0433\u0438\u0434: ",e.event.guideName]})]}),Object(g.jsxs)("div",{className:"col p-0",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-geo-alt-fill"})," ",e.event.eventCity]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-clock-fill"})," ",function(t){var c=new Date(t).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).split(":");return"".concat(c[0],".").concat(c[1]," - ").concat(Number(c[0])+Number(e.event.eventDuration),".").concat(c[1]," (").concat(e.event.eventDuration," \u0447\u0430\u0441\u0430)")}(e.event.eventDate)]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-currency-exchange"})," $",e.event.eventPrice]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-people-fill"})," \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",e.event.eventCapacity-e.event.eventRegistered," \u043c\u0435\u0441\u0442(\u0430)"]}),Object(g.jsx)(r.b,{to:"/event/"+e.event._id,children:Object(g.jsx)("button",{className:"btn btn-success",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})]})},y=function(e){return Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:e.events.map((function(e){return Object(g.jsx)(p,{event:e},e._id)})).reverse()})},w=function(e){var t=Object(l.c)((function(e){return e.guides}));return Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsx)("div",{className:"col",children:Object(g.jsxs)("table",{className:"table table-borderless",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0413\u0438\u0434"}),Object(g.jsx)("th",{children:"\u0413\u043e\u0440\u043e\u0434"}),Object(g.jsx)("th",{children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"}),Object(g.jsx)("th",{children:"\u0412\u0441\u0435/\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0438\u0435"}),Object(g.jsx)("th",{children:Object(g.jsx)("h2",{children:Object(g.jsx)("i",{className:"bi bi-clipboard-data text-warning"})})})]})}),Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:Object(g.jsxs)("select",{className:"form-select",onChange:function(t){e.setGuide(t.target.value)},children:[Object(g.jsx)("option",{hidden:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0433\u0438\u0434\u0430"}),Object(g.jsx)("option",{value:"all",children:"\u0412\u0441\u0435"}),t.map((function(e){return Object(g.jsx)("option",{value:e.guideName,children:e.guideName},e._id)}))]})}),Object(g.jsx)("th",{children:Object(g.jsx)("select",{className:"form-select",children:Object(g.jsx)("option",{hidden:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"})})}),Object(g.jsx)("th",{children:Object(g.jsxs)("select",{className:"form-select",children:[Object(g.jsx)("option",{hidden:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0443\u0440\u043e\u0432\u0435\u043d\u044c"}),Object(g.jsx)("option",{children:"\u0422\u0443\u0440\u0438\u0441\u0442(\u043e\u0431\u0437\u043e\u0440\u043d\u0430\u044f)"}),Object(g.jsx)("option",{children:"\u041c\u0435\u0441\u0442\u043d\u044b\u0439(\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f)"}),Object(g.jsx)("option",{children:"\u0421\u0430\u043c \u0433\u0438\u0434\u043e\u043c \u043c\u043e\u0433\u0443"}),Object(g.jsx)("option",{children:"\u041b\u044e\u0431\u043e\u0439"})]})}),Object(g.jsx)("th",{children:Object(g.jsx)("div",{className:"form-check form-switch",children:Object(g.jsx)("input",{className:"form-check-input bg-warning m-auto",type:"checkbox"})})}),Object(g.jsx)("th",{children:Object(g.jsx)(r.b,{to:"/admin",children:Object(g.jsx)("button",{className:"btn btn-warning btn-sm p-2 ",children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"})})})]})})]})})})})},C=function(){var e=Object(l.c)((function(e){return e.events})),t=Object(n.useState)("all"),c=Object(f.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)("all"),a=Object(f.a)(r,2),j=(a[0],a[1],Object(n.useState)("all")),o=Object(f.a)(j,2),d=(o[0],o[1],Object(n.useState)("all")),b=Object(f.a)(d,2);b[0],b[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w,{setGuide:i}),Object(g.jsx)(y,{guide:s,events:"all"===s?e:e.filter((function(e){return e.guideName===s}))})]})},D=c(4),P=c(29),E=c.n(P),S=(c(49),c(19)),F=c.n(S),_=function(){var e=Object(l.c)((function(e){return e.guides})),t=Object(l.b)(),c=Object(a.f)(),s=Object(n.useState)({eventDate:"",eventDuration:0,eventName:"",eventShortDescription:"",eventFullDescription:"",eventMeetingPoint:"",eventAdditionalInfo:"",eventCity:"",eventDifficulty:"",eventCapacity:0,eventRegistered:0,eventPrice:0,eventPhoto:"",guideName:""}),i=Object(f.a)(s,2),r=i[0],j=i[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("h1",{children:"Guides site Admin Panel"}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){r.eventDate&&r.eventDuration&&r.eventName&&r.eventShortDescription&&r.eventFullDescription&&r.eventMeetingPoint&&r.eventAdditionalInfo&&r.eventDifficulty&&r.eventCapacity&&r.eventPrice&&r.eventPhoto&&r.guideName?(t(function(e){return function(t){fetch(h+"events/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error(e.status.toString());console.log(e.json())})).then((function(){return t(u())})).catch((function(e){return console.log(e)}))}}(r)),c.push("/admin")):console.log("\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f")},children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return c.push("/admin")},children:"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0439"})]})})}),Object(g.jsxs)("div",{className:"container justify-content-center",children:[Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventDate",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)(E.a,{className:"form-control",selected:r.eventDate,onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventDate:e}))},showTimeSelect:!0,id:"eventDate"})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventName",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"})}),Object(g.jsx)("div",{className:"col-4 ",children:Object(g.jsx)("input",{className:"w-100 form-control",type:"text",value:r.eventName,id:"eventName",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventName:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventShortDescription",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("textarea",{className:"w-100 form-control",rows:"3",value:r.eventShortDescription,id:"eventShortDescription",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventShortDescription:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventFullDescription",children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("textarea",{className:"form-control",rows:"6",value:r.eventFullDescription,id:"eventFullDescription",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventFullDescription:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventMeetingPoint",children:"\u0413\u0434\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u043c\u0441\u044f:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:r.eventMeetingPoint,id:"eventMeetingPoint",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventMeetingPoint:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventAdditionalInfo",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:r.eventAdditionalInfo,id:"eventAdditionalInfo",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventAdditionalInfo:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventCity",children:"\u0413\u043e\u0440\u043e\u0434:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:r.eventCity,id:"eventCity",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventCity:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventDifficulty",children:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsxs)("select",{className:"form-select",id:"eventDifficulty",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventDifficulty:e.target.value}))},children:[Object(g.jsx)("option",{children:"\u0422\u0443\u0440\u0438\u0441\u0442 (\u043e\u0431\u0437\u043e\u0440\u043d\u0430\u044f)"}),Object(g.jsx)("option",{children:"\u041c\u0435\u0441\u0442\u043d\u044b\u0439 (\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f)"}),Object(g.jsx)("option",{children:"\u0421\u0430\u043c \u0433\u0438\u0434\u043e\u043c \u043c\u043e\u0433\u0443"})]})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventCapacity",children:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"number",id:"eventCapacity",min:"1",max:"100",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventCapacity:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventPrice",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"number",id:"eventPrice",min:"1",max:"10000",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventPrice:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventDuration",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u0447\u0430\u0441\u043e\u0432):"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"number",id:"eventDuration",min:"1",max:"99",step:"0,5",onChange:function(e){return j(Object(D.a)(Object(D.a)({},r),{},{eventDuration:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideName",children:"\u0413\u0438\u0434:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("select",{className:"form-select",onChange:function(e){j(Object(D.a)(Object(D.a)({},r),{},{guideName:e.target.value}))},children:e.map((function(e){return Object(g.jsx)("option",{value:e.guideName,children:e.guideName},e._id)}))})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventPhoto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)(F.a,{className:"form-control",multiple:!1,type:"file",onDone:function(e){var t=e.base64;return j(Object(D.a)(Object(D.a)({},r),{},{eventPhoto:t}))}})})]}),Object(g.jsx)("div",{className:"row justify-content-center m-1",children:Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("img",{src:r.eventPhoto,alt:"\u0424\u043e\u0442\u043e \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438"})})})]})]})},k=function(e){var t=Object(l.c)((function(e){return e.events})),c=Object(l.c)((function(e){return e.guides})),s=Object(l.b)(),i=Object(a.f)(),r=Object(n.useState)({eventDate:"",eventDuration:0,eventName:"",eventShortDescription:"",eventFullDescription:"",eventMeetingPoint:"",eventAdditionalInfo:"",eventCity:"",eventDifficulty:"",eventCapacity:0,eventRegistered:0,eventPrice:0,eventPhoto:"",guideName:""}),j=Object(f.a)(r,2),o=j[0],d=j[1];return Object(n.useEffect)((function(){var c=t.find((function(t){return t._id===e.match.params.id})),n=new Date(c.eventDate);d(Object(D.a)(Object(D.a)({},c),{},{eventDate:n}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h3",{children:["Edit Event ",o.eventName]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){var t,c;o.eventDate&&o.eventDuration&&o.eventName&&o.eventShortDescription&&o.eventFullDescription&&o.eventMeetingPoint&&o.eventAdditionalInfo&&o.eventDifficulty&&o.eventCapacity&&o.eventPrice&&o.eventPhoto&&o.guideName?(s((t=e.match.params.id,c=o,function(e){fetch(h+"events/update/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){if(!e.ok)throw new Error(e.status.toString());console.log(e.json())})).then((function(){return e(u())})).catch((function(e){return console.log(e)}))})),i.push("/admin")):console.log("\u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043f\u043e\u043b\u044f")},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return i.push("/admin")},children:"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0439"})]})})}),Object(g.jsxs)("div",{className:"container justify-content-center",children:[Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventDate",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)(E.a,{className:"form-control",selected:o.eventDate,onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventDate:e}))},showTimeSelect:!0,id:"eventDate"})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventName",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"})}),Object(g.jsx)("div",{className:"col-4 ",children:Object(g.jsx)("input",{type:"text",value:o.eventName,id:"eventName",className:"w-100 form-control",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventName:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventShortDescription",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("textarea",{className:"w-100 form-control",rows:"3",value:o.eventShortDescription,id:"eventShortDescription",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventShortDescription:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventFullDescription",children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("textarea",{className:"form-control",rows:"6",value:o.eventFullDescription,id:"eventFullDescription",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventFullDescription:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventMeetingPoint",children:"\u0413\u0434\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u043c\u0441\u044f:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:o.eventMeetingPoint,id:"eventMeetingPoint",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventMeetingPoint:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventAdditionalInfo",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:o.eventAdditionalInfo,id:"eventAdditionalInfo",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventAdditionalInfo:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventCity",children:"\u0413\u043e\u0440\u043e\u0434:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"text",value:o.eventCity,id:"eventCity",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventCity:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventDifficulty",children:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsxs)("select",{className:"form-select",id:"eventDifficulty",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventDifficulty:e.target.value}))},children:[Object(g.jsx)("option",{children:"\u0422\u0443\u0440\u0438\u0441\u0442 (\u043e\u0431\u0437\u043e\u0440\u043d\u0430\u044f)"}),Object(g.jsx)("option",{children:"\u041c\u0435\u0441\u0442\u043d\u044b\u0439 (\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f)"}),Object(g.jsx)("option",{children:"\u0421\u0430\u043c \u0433\u0438\u0434\u043e\u043c \u043c\u043e\u0433\u0443"})]})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventCapacity",children:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"number",id:"eventCapacity",min:"1",max:"100",value:o.eventCapacity,onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventCapacity:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventPrice",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control",type:"number",id:"eventPrice",min:"1",max:"10000",value:o.eventPrice,onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventPrice:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventDuration",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u0447\u0430\u0441\u043e\u0432):"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{type:"number",id:"eventDuration",min:"1",max:"100",step:"0,5",value:o.eventDuration,className:"form-control",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{eventDuration:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideName",children:"\u0413\u0438\u0434:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("select",{className:"form-select",onChange:function(e){d(Object(D.a)(Object(D.a)({},o),{},{guideName:e.target.value}))},children:c.map((function(e){return Object(g.jsx)("option",{value:e.guideName,children:e.guideName},e._id)}))})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"eventPhoto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)(F.a,{className:"form-control",multiple:!1,type:"file",onDone:function(e){var t=e.base64;return d(Object(D.a)(Object(D.a)({},o),{},{eventPhoto:t}))}})})]}),Object(g.jsx)("div",{className:"row justify-content-center m-1",children:Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("img",{src:o.eventPhoto,alt:"\u0424\u043e\u0442\u043e \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438"})})})]})]})},T=function(){var e=Object(n.useState)({guideName:"",guideDescription:"",guideContact:"",guidePhoto:""}),t=Object(f.a)(e,2),c=t[0],s=t[1],i=Object(l.b)(),r=Object(a.f)(),j=function(e){e.guideName&&e.guideDescription&&e.guideContact&&e.guidePhoto&&(i(function(e){return function(t){fetch(h+"guides/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error(e.status.toString());console.log(e.json())})).then((function(){return t(x())})).catch((function(e){return console.log(e)}))}}(e)),r.push("/admin"))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e ",Object(g.jsx)("span",{className:"text-warning",children:"\u0433\u0438\u0434\u0430"})]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return j(c)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return r.push("/admin")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})}),Object(g.jsxs)("div",{className:"container justify-content-center",children:[Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideName",children:"\u0418\u043c\u044f:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control w-100",type:"text",value:c.guideName,id:"guideName",onChange:function(e){return s(Object(D.a)(Object(D.a)({},c),{},{guideName:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideDescription",children:"\u041a\u0442\u043e \u0442\u0430\u043a\u043e\u0439 \u044d\u0442\u043e\u0442 \u0433\u0438\u0434:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("textarea",{className:"form-control w-100",rows:"3",value:c.guideDescription,id:"guideDescription",onChange:function(e){return s(Object(D.a)(Object(D.a)({},c),{},{guideDescription:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideContact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control w-100",type:"text",value:c.guideContact,id:"guideContact",onChange:function(e){return s(Object(D.a)(Object(D.a)({},c),{},{guideContact:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guidePhoto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)(F.a,{multiple:!1,type:"file",onDone:function(e){var t=e.base64;return s(Object(D.a)(Object(D.a)({},c),{},{guidePhoto:t}))}})})]}),Object(g.jsx)("div",{className:"row justify-content-center m-1 m-1",children:Object(g.jsx)("div",{className:"col-auto",children:c.guidePhoto?Object(g.jsx)("img",{src:c.guidePhoto,alt:"\u0424\u043e\u0442\u043e \u0433\u0438\u0434\u0430"}):Object(g.jsx)("h1",{children:Object(g.jsx)("i",{className:"bi bi-person-square"})})})})]})]})},I=function(e){var t=Object(n.useState)({guideName:"loading...",guideDescription:"...",guideContact:"...",guidePhoto:""}),c=Object(f.a)(t,2),s=c[0],i=c[1],r=Object(l.c)((function(e){return e.guides})),j=Object(l.b)(),o=Object(a.f)();Object(n.useEffect)((function(){var t=r.find((function(t){return t._id===e.match.params.id}));i(t)}),[]);var d=function(t){var c,n;t.guideName&&t.guideDescription&&t.guideContact&&t.guidePhoto&&(j((c=e.match.params.id,n=t,function(e){fetch(h+"guides/update/"+c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw new Error(e.status.toString());console.log(e.json())})).then((function(){return e(x())})).catch((function(e){return console.log(e)}))})),o.push("/admin"))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 ",Object(g.jsx)("span",{className:"text-warning",children:"\u0433\u0438\u0434\u0430"})]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return d(s)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return o.push("/admin")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})}),Object(g.jsxs)("div",{className:"container justify-content-center",children:[Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideName",children:"\u0418\u043c\u044f:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control w-100",type:"text",value:s.guideName,id:"guideName",onChange:function(e){return i(Object(D.a)(Object(D.a)({},s),{},{guideName:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideDescription",children:"\u041a\u0442\u043e \u0442\u0430\u043a\u043e\u0439 \u044d\u0442\u043e\u0442 \u0433\u0438\u0434:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("textarea",{className:"form-control w-100",rows:"3",value:s.guideDescription,id:"guideDescription",onChange:function(e){return i(Object(D.a)(Object(D.a)({},s),{},{guideDescription:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guideContact",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("input",{className:"form-control w-100",type:"text",value:s.guideContact,id:"guideContact",onChange:function(e){return i(Object(D.a)(Object(D.a)({},s),{},{guideContact:e.target.value}))}})})]}),Object(g.jsxs)("div",{className:"row justify-content-center m-1 m-1",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("label",{htmlFor:"guidePhoto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e:"})}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)(F.a,{multiple:!1,type:"file",onDone:function(e){var t=e.base64;return i(Object(D.a)(Object(D.a)({},s),{},{guidePhoto:t}))}})})]}),Object(g.jsx)("div",{className:"row justify-content-center m-1 m-1",children:Object(g.jsx)("div",{className:"col-auto",children:s.guidePhoto?Object(g.jsx)("img",{src:s.guidePhoto,alt:"\u0424\u043e\u0442\u043e \u0433\u0438\u0434\u0430"}):Object(g.jsx)("h1",{children:Object(g.jsx)("i",{className:"bi bi-person-square"})})})})]})]})},Q=function(e){var t=Object(l.b)();return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"row border m-2 p-2 bg-success text-dark bg-opacity-75 align-items-center",children:Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("h2",{children:"\u041e\u043f\u043b\u0430\u0442\u0430"})})}),Object(g.jsx)("div",{className:"row m-2 p-2 text-dark align-items-center",children:Object(g.jsxs)("div",{className:"col text-center",children:[Object(g.jsxs)("p",{children:["\u0412\u044b \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0435 ",Object(g.jsx)("strong",{children:e.order.orderQuantity})," \u0431\u0438\u043b\u0435\u0442(\u043e\u0432)"]}),Object(g.jsxs)("p",{children:["\u041d\u0430 \u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044e ",Object(g.jsx)("strong",{children:e.eventName})]}),Object(g.jsxs)("p",{children:["\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b ",Object(g.jsxs)("strong",{children:["$",e.order.orderTotal]}),"."]}),Object(g.jsx)("button",{className:"btn btn-success m-1",onClick:function(){t(N(e.order));var c=Number(e.order.orderQuantity)+Number(e.eventRegistered);t(m(e.order.orderEventId,{eventRegistered:c})),e.setPaymentStatus(!0),e.setView("ThankYou")},children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"}),Object(g.jsx)("button",{className:"btn btn-secondary m-1",onClick:function(){return e.setView("Order")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})]})},R=function(e){var t=e.setView,c=e.event,n=Object(l.b)();return c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsxs)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:[Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0421\u0430\u0439\u0442 ",Object(g.jsx)("span",{className:"text-warning",children:"\u0413\u0438\u0434\u043e\u0432"})]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return t("Order")},children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}),Object(g.jsx)(r.b,{to:"/",children:Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]}),Object(g.jsxs)("div",{className:"col text-center",children:[Object(g.jsx)("h2",{children:c.eventName}),Object(g.jsxs)("h4",{children:[Object(g.jsx)("span",{className:"text-warning",children:"\u0413\u0438\u0434"})," \u0441\u043e\u0431\u044b\u0442\u0438\u044f: ",c.guideName]})]})]})}),Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row m-2 p-2",children:[Object(g.jsx)("div",{className:"col-4",children:Object(g.jsx)("img",{src:c.eventPhoto,alt:"Event",width:"300",height:"300",className:"rounded mx-auto"})}),Object(g.jsxs)("div",{className:"col-8",children:[Object(g.jsx)("p",{children:c.eventShortDescription}),Object(g.jsxs)("div",{className:"col p-0",children:[Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-geo-alt-fill"})," ",c.eventCity]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-clock-fill"})," ",function(e){var t=new Date(e).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}).split(":");return"".concat(t[0],".").concat(t[1]," - ").concat(Number(t[0])+Number(c.eventDuration),".").concat(t[1]," (").concat(c.eventDuration," \u0447\u0430\u0441\u0430)")}(c.eventDate)]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-currency-exchange"})," ",c.eventPrice]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-people-fill"})," \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",c.eventCapacity-c.eventRegistered," \u043c\u0435\u0441\u0442(\u0430)"]})]}),Object(g.jsx)("p",{children:c.eventFullDescription}),Object(g.jsx)("hr",{}),Object(g.jsx)("h4",{children:"\u0413\u0434\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u043c\u0441\u044f?"}),Object(g.jsx)("p",{children:c.eventMeetingPoint}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-info-circle-fill"})," ",c.eventAdditionalInfo]}),Object(g.jsxs)("p",{children:[Object(g.jsx)("i",{className:"bi bi-emoji-sunglasses-fill"})," \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430: ",c.eventDifficulty]})]})]})})]}):(n(u()),Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsxs)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:[Object(g.jsx)("h1",{children:"Loading"}),Object(g.jsx)("div",{className:"d-flex justify-content-center",children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})}))},A=function(e){var t=Object(n.useState)(""),c=Object(f.a)(t,2),s=c[0],i=c[1],a=Object(n.useState)({clientName:"",clientPhone:"",clientEmail:"",orderQuantity:1,orderTotal:0,eventId:e.id}),l=Object(f.a)(a,2),j=l[0],o=l[1],d=e.event.eventCapacity-e.event.eventRegistered;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"container ",children:[Object(g.jsxs)("div",{className:"row border m-2 p-2 bg-success text-dark bg-opacity-75 align-items-center",children:[Object(g.jsx)("div",{className:"col-8",children:Object(g.jsx)("h2",{children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0438 \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})}),Object(g.jsxs)("div",{className:"col-4",children:[Object(g.jsx)(r.b,{to:"/",children:Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u041d\u0430 \u0413\u043b\u0430\u0432\u043d\u0443\u044e"})}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return e.setView("Event")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}),Object(g.jsx)(p,{event:e.event}),Object(g.jsx)("div",{className:"row m-2 p-2 justify-content-center",children:s?Object(g.jsx)("div",{className:"col-3 alert alert-danger",children:s}):""}),Object(g.jsxs)("div",{className:"row m-2 p-2",children:[Object(g.jsx)("div",{className:"col-2"}),Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("span",{className:"input-group-text",id:"yourName",children:Object(g.jsx)("i",{className:"bi bi-person-square"})}),Object(g.jsx)("input",{"aria-describedby":"yourName",className:"form-control",placeholder:"\u0412\u0430\u0448\u0435 \u0418\u043c\u044f",required:!0,type:"text",onChange:function(e){return o(Object(D.a)(Object(D.a)({},j),{},{clientName:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("span",{className:"input-group-text",id:"yourPhone",children:Object(g.jsx)("i",{className:"bi bi-telephone-fill"})}),Object(g.jsx)("input",{"aria-describedby":"yourPhoneName",className:"form-control",placeholder:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",required:!0,type:"text",onChange:function(e){return o(Object(D.a)(Object(D.a)({},j),{},{clientPhone:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("span",{className:"input-group-text",id:"yourEmail",children:Object(g.jsx)("i",{className:"bi bi-envelope-fill"})}),Object(g.jsx)("input",{"aria-describedby":"yourEmail",className:"form-control",placeholder:"\u0412\u0430\u0448 e-mail",required:!0,type:"text",onChange:function(e){return o(Object(D.a)(Object(D.a)({},j),{},{clientEmail:e.target.value}))}})]})]}),Object(g.jsxs)("div",{className:"col-2",children:[Object(g.jsxs)("p",{children:["\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043c\u0435\u0441\u0442: ",d]}),Object(g.jsx)("label",{children:" \u041a\u043e\u043b-\u0432\u043e: "}),Object(g.jsx)("input",{className:"form-control d-grid",value:j.orderQuantity,type:"number",min:"1",max:d,onChange:function(e){o(Object(D.a)(Object(D.a)({},j),{},{orderQuantity:e.target.value}))}}),Object(g.jsx)("br",{}),Object(g.jsxs)("p",{children:["\u0418\u0442\u043e\u0433\u043e: $",j.orderQuantity*e.event.eventPrice]})]}),Object(g.jsx)("div",{className:"col-2"})]}),Object(g.jsx)("div",{className:"row m-2 p-2 justify-content-center",children:Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("button",{className:"btn btn-success",onClick:function(){j.clientName&&j.clientPhone&&j.clientEmail?(e.setOrder({orderClientName:j.clientName,orderClientPhone:j.clientPhone,orderClientEmail:j.clientEmail,orderQuantity:j.orderQuantity,orderTotal:j.orderQuantity*e.event.eventPrice,orderEventId:e.id}),e.setView("Payment")):i("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f.")},children:"\u041a \u043e\u043f\u043b\u0430\u0442\u0435"})})})]})})},L=function(e){var t=new Date(e.event.eventDate).toLocaleDateString(),c="https://api.qrserver.com/v1/create-qr-code/?data=event_id:"+e.event._id+"_order_id:"+e.order._id;return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"row border m-2 p-2 bg-success text-dark bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("h2",{children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d \u0438 \u043e\u043f\u043b\u0430\u0447\u0435\u043d!"}),Object(g.jsx)(r.b,{to:"/",children:Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})}),Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})}),Object(g.jsx)("div",{className:"row m-2 p-2 align-items-center",children:Object(g.jsxs)("div",{className:"col text-center",children:[Object(g.jsx)("h3",{children:e.event.eventName}),Object(g.jsxs)("h4",{children:["\u0414\u0430\u0442\u0430: ",t]}),Object(g.jsxs)("h4",{children:["\u041a\u043e\u043b-\u0432\u043e \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u044b\u0445 \u043c\u0435\u0441\u0442: ",e.order.orderQuantity]}),Object(g.jsx)("img",{src:c,alt:"\u0412\u0430\u0448 QR \u043a\u043e\u0434"})]})})]})},M=function(e){var t=Object(n.useState)("Event"),c=Object(f.a)(t,2),s=c[0],i=c[1],r=Object(n.useState)({orderClientName:"",orderClientPhone:"",orderClientEmail:"",orderQuantity:0,orderTotal:0,orderEventId:e.match.params.id}),a=Object(f.a)(r,2),j=a[0],o=a[1],d=Object(n.useState)(!1),b=Object(f.a)(d,2),h=b[0],u=b[1],O=Object(l.c)((function(t){return t.events.find((function(t){return t._id===e.match.params.id}))}));switch(s){case"ThankYou":return Object(g.jsx)(L,{paymentStatus:h,order:j,event:O});case"Payment":return Object(g.jsx)(Q,{eventName:O.eventName,eventRegistered:O.eventRegistered,order:j,setView:i,setPaymentStatus:u});case"Event":return Object(g.jsx)(R,{event:O,setView:i});case"Order":return Object(g.jsx)(A,{id:e.match.params.id,event:O,setOrder:o,setView:i});default:return Object(g.jsx)(R,{event:O,setView:i})}};function q(e){var t=new Date(e.event.eventDate);return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:e.event?t.toLocaleDateString():"xxx"}),Object(g.jsx)("th",{children:e.event?e.event.eventName:"xxx"}),Object(g.jsx)("th",{children:e.event?e.event.eventPrice:"xxx"}),Object(g.jsx)("th",{children:e.event?"".concat(e.event.eventRegistered?e.event.eventRegistered:0,"/").concat(e.event.eventCapacity):"xxx"}),Object(g.jsx)("th",{children:e.event?e.event._id:"xxx"}),Object(g.jsxs)("th",{children:[Object(g.jsx)(r.b,{to:"/event/"+e.event._id,children:Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",children:Object(g.jsx)("i",{className:"bi bi-eye"})})}),Object(g.jsx)(r.b,{to:"/edit_event/"+e.event._id,children:Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",children:"edit"})}),Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",onClick:function(){if(window.confirm("\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u044f\u0435\u043c?")){var t=e.event._id;e.deleteEventHandler(t)}},children:"X"})]})]})}var G=function(){var e=Object(l.c)((function(e){return e.events})),t=Object(l.c)((function(e){return e.guides})),c=Object(l.b)(),s=Object(n.useState)("all"),i=Object(f.a)(s,2),r=i[0],a=i[1],j=function(e){c(O(e))};return Object(g.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(g.jsxs)("div",{className:"row p-2 m-2 bg-success bg-opacity-50",children:[Object(g.jsx)("div",{className:"col-7",children:Object(g.jsx)("h3",{children:"\u0412\u0441\u0435 \u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438"})}),Object(g.jsx)("div",{className:"col-1"}),Object(g.jsx)("div",{className:"col-4",children:Object(g.jsxs)("select",{className:"form-select m-1",onChange:function(e){return a(e.target.value)},children:[Object(g.jsx)("option",{value:"all",children:"\u0412\u0441\u0435"}),t.map((function(e){return Object(g.jsx)("option",{value:e.guideName,children:e.guideName},e._id)}))]})})]}),Object(g.jsx)("div",{className:"row p-2 m-2",children:Object(g.jsxs)("table",{className:"table table-striped table-hover table-sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(g.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(g.jsx)("th",{children:"\u0426\u0435\u043d\u0430"}),Object(g.jsx)("th",{children:"\u041c\u0435\u0441\u0442\u0430"}),Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(g.jsx)("tbody",{children:function(e){return e.length>0?e.map((function(e){return Object(g.jsx)(q,{deleteEventHandler:j,event:e},e._id)})).reverse():Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"LOADING..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."})]})}(function(t){switch(t){case"all":return e;default:return e.filter((function(e){return e.guideName===t}))}}(r))})]})})]})},V=function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:e.guide.guideName}),Object(g.jsx)("th",{children:e.guideEventsCount(e.guide.guideName)}),Object(g.jsx)("th",{children:e.guide.guideContact}),Object(g.jsxs)("th",{children:[Object(g.jsx)(r.b,{to:"/guides/"+e.guide._id,children:Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",children:Object(g.jsx)("i",{className:"bi bi-eye"})})}),Object(g.jsx)(r.b,{to:"/edit_guide/"+e.guide._id,children:Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",children:"edit"})}),Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",onClick:function(){if(window.confirm("\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u044f\u0435\u043c?")){var t=e.guide._id;e.deleteGuideHandler(t)}},children:"X"})]})]})},J=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.guides})),c=Object(l.c)((function(e){return e.events})),n=function(t){e(function(e){return function(t){fetch(h+"guides/"+e,{method:"DELETE"}).then((function(c){if(!c.ok)throw new Error(c.status.toString());t(x()),console.log("Guide with id: ".concat(e," deleted"))}))}}(t))},s=function(e){return c.filter((function(t){return t.guideName===e})).length};return Object(g.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(g.jsx)("div",{className:"row p-2 m-2 bg-success bg-opacity-50",children:Object(g.jsx)("h3",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0438\u0434\u043e\u0432-\u044d\u043a\u0441\u043a\u0443\u0440\u0441\u043e\u0432\u043e\u0434\u043e\u0432"})}),Object(g.jsx)("div",{className:"row p-2 m-2",children:Object(g.jsxs)("table",{className:"table table-striped table-hover table-sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0418\u043c\u044f"}),Object(g.jsx)("th",{children:"\u041a\u043e\u043b-\u0432\u043e \u044d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0439"}),Object(g.jsx)("th",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(g.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(g.jsx)("tbody",{children:t.length>0?t.map((function(e){return Object(g.jsx)(V,{guideEventsCount:s,deleteGuideHandler:n,guide:e},e._id)})).reverse():Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"LOADING..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."})]})})]})})]})};function $(e){var t=new Date(e.order.createdAt),c=Object(l.b)();return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:e.order?t.toLocaleDateString():"xxx"}),Object(g.jsx)("th",{children:e.order?e.order.orderClientName:"xxx"}),Object(g.jsx)("th",{children:e.order?e.order.orderClientPhone:"xxx"}),Object(g.jsx)("th",{children:e.order?e.order.orderClientEmail:"xxx"}),Object(g.jsx)("th",{children:e.order?e.order.orderEventId:"xxx"}),Object(g.jsx)("th",{children:e.order?e.order.orderQuantity:"xxx"}),Object(g.jsx)("th",{children:e.order?"".concat(e.order.orderTotal):"xxx"}),Object(g.jsxs)("th",{children:[Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",onClick:function(){var t,n,s;c((t=e.order._id,n=e.order.orderEventId,s=e.order.orderQuantity,function(e){fetch(h+"orders/"+t,{method:"DELETE"}).then((function(c){if(!c.ok)throw new Error(c.status.toString());fetch(h+"events/"+n,{method:"GET"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status.toString())})).then((function(t){var c=Number(t.eventRegistered)-Number(s);e(m(n,{eventRegistered:c}))})),e(v()),console.log("Order with id: ".concat(t," deleted"))}))}))},children:"X"}),Object(g.jsx)(r.b,{to:"/orders/"+e.order._id,children:Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",children:Object(g.jsx)("i",{className:"bi bi-eye"})})})]})]})}var H=function(){var e=Object(l.c)((function(e){return e.orders})),t=Object(l.c)((function(e){return e.events})),c=Object(n.useState)("all"),s=Object(f.a)(c,2),i=s[0],r=s[1];return Object(g.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(g.jsxs)("div",{className:"row p-2 m-2 bg-success bg-opacity-50",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("h3",{children:"\u0412\u0441\u0435 \u0417\u0430\u043a\u0430\u0437\u044b"})}),Object(g.jsx)("div",{className:"col",children:Object(g.jsxs)("select",{className:"form-select m-1",onChange:function(e){r(e.target.value)},children:[Object(g.jsx)("option",{value:"all",children:"\u0412\u0441\u0435"}),t.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.eventName},e._id)}))]})})]}),Object(g.jsx)("div",{className:"row p-2 m-2",children:Object(g.jsxs)("table",{className:"table table-striped table-hover table-sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(g.jsx)("th",{children:"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(g.jsx)("th",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(g.jsx)("th",{children:"E-mail"}),Object(g.jsx)("th",{children:"ID \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),Object(g.jsx)("th",{children:"\u041a\u043e\u043b-\u0432\u043e"}),Object(g.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430"}),Object(g.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"})]})}),Object(g.jsx)("tbody",{children:function(e){return e.length>0?e.map((function(e){return Object(g.jsx)($,{order:e},e._id)})).reverse():Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"LOADING..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."})]})}(function(t){switch(t){case"all":return e;default:return e.filter((function(e){return e.orderEventId===t}))}}(i))})]})})]})},X=function(){return Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c ",Object(g.jsx)("span",{className:"text-warning",children:"\u0421\u0430\u0439\u0442\u0430 \u0413\u0438\u0434\u043e\u0432"})]}),Object(g.jsx)(r.b,{to:"/",children:Object(g.jsx)("button",{type:"button",className:"btn btn-warning m-1",children:" \u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})}),Object(g.jsx)(r.b,{to:"/create_event",children:Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044e"})}),Object(g.jsx)(r.b,{to:"/create_guide",children:Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u0438\u0434\u0430"})}),Object(g.jsx)(r.b,{to:"/create_order/",children:Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})})]})})})},U=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(X,{}),Object(g.jsx)(G,{}),Object(g.jsx)(J,{}),Object(g.jsx)(H,{})]})},Y=function(e){var t=Object(a.f)(),c=Object(l.c)((function(t){return t.orders.find((function(t){return t._id===e.match.params.id}))}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438\u044f \u043e ",Object(g.jsx)("span",{className:"text-warning",children:"\u0437\u0430\u043a\u0430\u0437\u0435"})]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return t.push("/admin")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})}),Object(g.jsx)("div",{className:"container justify-content-center",children:Object(g.jsx)("div",{className:"row m-2 p-2 align-items-center",children:Object(g.jsxs)("div",{className:"col text-center",children:[Object(g.jsxs)("h4",{children:["\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430: ",c?c.orderClientName:"...loading"]}),Object(g.jsxs)("h5",{children:["\u041a\u043e\u043b-\u0432\u043e \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u044b\u0445 \u043c\u0435\u0441\u0442: ",c?c.orderQuantity:"...loading"]}),Object(g.jsxs)("h5",{children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043b\u0438\u0435\u043d\u0442\u0430: ",c?c.orderClientPhone:"...loading"]}),Object(g.jsxs)("h5",{children:["E-mail \u043a\u043b\u0438\u0435\u043d\u0442\u0430: ",c?c.orderClientEmail:"...loading"]}),Object(g.jsxs)("h5",{children:["\u0412\u0441\u0435\u0433\u043e \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043e: $",c?c.orderTotal:"...loading"]}),Object(g.jsx)("img",{src:c?"https://api.qrserver.com/v1/create-qr-code/?data=event_id:"+c.orderEventId+"_clientName:"+c.orderClientName:"",alt:"\u0412\u0430\u0448 QR \u043a\u043e\u0434"})]})})})]})},B=function(e){var t=Object(l.c)((function(e){return e.events})),c=Object(n.useState)({}),s=Object(f.a)(c,2),i=s[0],r=s[1],a=Object(n.useState)({orderQuantity:0}),j=Object(f.a)(a,2),o=j[0],d=j[1],b=i._id?i.eventCapacity-i.eventRegistered:null;return Object(g.jsxs)("div",{className:"container justify-content-center",children:[Object(g.jsxs)("div",{className:"row m-2 p-2",children:[Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("div",{className:"input-group mb-3",children:Object(g.jsxs)("select",{className:"form-select m-1",onChange:function(e){d(Object(D.a)(Object(D.a)({},o),{},{eventId:e.target.value}));var c=t.find((function(t){return t._id===e.target.value}));r(c),console.log(c.eventCapacity-c.eventRegistered)},children:[Object(g.jsx)("option",{hidden:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u0431\u043b\u0435\u0430\u0442\u044c!"}),t.map((function(e){return Object(g.jsx)("option",{value:e._id,children:e.eventName},e._id)}))]})}),Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("span",{className:"input-group-text",id:"yourName",children:Object(g.jsx)("i",{className:"bi bi-person-square"})}),Object(g.jsx)("input",{"aria-describedby":"yourName",className:"form-control",placeholder:"\u0412\u0430\u0448\u0435 \u0418\u043c\u044f",required:!0,type:"text",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{orderClientName:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("span",{className:"input-group-text",id:"yourPhone",children:Object(g.jsx)("i",{className:"bi bi-telephone-fill"})}),Object(g.jsx)("input",{"aria-describedby":"yourPhoneName",className:"form-control",placeholder:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",required:!0,type:"text",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{orderClientPhone:e.target.value}))}})]}),Object(g.jsxs)("div",{className:"input-group mb-3",children:[Object(g.jsx)("span",{className:"input-group-text",id:"yourEmail",children:Object(g.jsx)("i",{className:"bi bi-envelope-fill"})}),Object(g.jsx)("input",{"aria-describedby":"yourEmail",className:"form-control",placeholder:"\u0412\u0430\u0448 e-mail",required:!0,type:"text",onChange:function(e){return d(Object(D.a)(Object(D.a)({},o),{},{orderClientEmail:e.target.value}))}})]})]}),Object(g.jsxs)("div",{className:"col-2",children:[Object(g.jsxs)("p",{children:["\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043c\u0435\u0441\u0442: ",b]}),Object(g.jsx)("label",{children:" \u041a\u043e\u043b-\u0432\u043e: "}),Object(g.jsx)("input",{className:"form-control d-grid",value:o.orderQuantity,type:"number",min:"1",max:b,onChange:function(e){d(Object(D.a)(Object(D.a)({},o),{},{orderQuantity:e.target.value}))}}),Object(g.jsx)("br",{}),o.orderQuantity?Object(g.jsxs)("p",{children:["\u0418\u0442\u043e\u0433\u043e: $",o.orderQuantity*i.eventPrice]}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("div",{className:"col-4",children:[Object(g.jsxs)("p",{children:["\u0412\u044b \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0435 ",Object(g.jsx)("strong",{children:o.orderQuantity})," \u0431\u0438\u043b\u0435\u0442(\u043e\u0432)"]}),Object(g.jsxs)("p",{children:["\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b ",Object(g.jsxs)("strong",{children:["$",o.orderQuantity?o.orderQuantity*i.eventPrice:0]}),"."]}),i._id&&Number(i.eventCapacity)-Number(i.eventRegistered)>0?Object(g.jsx)("button",{className:"btn btn-success",onClick:function(){o.orderClientName&&o.orderClientPhone&&o.orderClientEmail&&o.orderQuantity?(e.setOrder({orderClientName:o.orderClientName,orderClientPhone:o.orderClientPhone,orderClientEmail:o.orderClientEmail,orderQuantity:o.orderQuantity,orderTotal:o.orderQuantity*i.eventPrice,orderEventId:i._id}),e.setView(!1)):e.setErrorMes("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f, \u0431\u043b\u0435\u0430\u0442\u044c!")},children:"\u041a \u043e\u043f\u043b\u0430\u0442\u0435"}):Object(g.jsx)(g.Fragment,{}),i._id&&Number(i.eventCapacity)-Number(i.eventRegistered)<=0?Object(g.jsx)("p",{children:Object(g.jsx)("span",{className:"badge bg-success text-warning",children:"\u0412\u0441\u0435 \u043c\u0435\u0441\u0442\u0430 \u0437\u0430\u043d\u044f\u0442\u044b"})}):Object(g.jsx)(g.Fragment,{})]})]}),Object(g.jsx)("div",{className:"row justify-content-center m-1 p-1",children:Object(g.jsx)("div",{children:i._id?Object(g.jsx)(p,{event:i}):Object(g.jsx)(g.Fragment,{})})})]})},W=function(e){var t=Object(l.c)((function(e){return e.events})).find((function(t){return t._id=e.order.orderEventId})),c=Object(l.b)(),n=Object(a.f)(),s="https://api.qrserver.com/v1/create-qr-code/?data=event_id:"+t._id+"_clientName:"+e.order.orderClientName;return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsxs)("div",{className:"row m-2 p-2 justify-content-center",children:[Object(g.jsxs)("div",{className:"col-6",children:[Object(g.jsx)("h3",{children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u043a\u0430\u0437\u0435"}),Object(g.jsxs)("p",{children:["\u0418\u043c\u044f \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430: ",e.order.orderClientName]}),Object(g.jsxs)("p",{children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430: ",e.order.orderClientPhone]}),Object(g.jsxs)("p",{children:["E-mail \u0437\u0430\u043a\u0437\u0430\u0447\u0438\u043a\u0430: ",e.order.orderClientEmail]}),Object(g.jsxs)("p",{children:["\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432: ",e.order.orderQuantity]}),Object(g.jsxs)("p",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",e.order.orderTotal]}),Object(g.jsxs)("p",{children:["\u0421\u043e\u0431\u044b\u0442\u0438\u0435: ",t.eventName]})]}),Object(g.jsxs)("div",{className:"col-4 ",children:[Object(g.jsx)("img",{src:s,alt:"\u0412\u0430\u0448 QR \u043a\u043e\u0434"}),Object(g.jsx)("button",{className:"btn btn-success m-1",onClick:function(){c(N(e.order));var s=Number(e.order.orderQuantity)+Number(t.eventRegistered);c(m(e.order.orderEventId,{eventRegistered:s})),n.push("/admin")},children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})]})]}),Object(g.jsx)(p,{event:t})]})},z=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(""),r=Object(f.a)(i,2),l=r[0],j=r[1],o=Object(n.useState)({orderClientName:"",orderClientPhone:"",orderClientEmail:"",orderQuantity:0,orderTotal:0,orderEventId:""}),d=Object(f.a)(o,2),b=d[0],h=d[1],u=Object(a.f)();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsxs)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:[Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e ",Object(g.jsx)("span",{className:"text-warning",children:"\u0437\u0430\u043a\u0430\u0437\u0430"})]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return u.push("/admin")},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),l?Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("h2",{children:Object(g.jsx)("strong",{children:Object(g.jsx)("span",{className:"badge bg-warning text-success",children:l})})})}):Object(g.jsx)(g.Fragment,{})]})}),c?Object(g.jsx)(B,{setErrorMes:j,setView:s,setOrder:h,order:b}):Object(g.jsx)(W,{order:b})]})};function K(e){var t=new Date(e.event.eventDate);return Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:e.event?t.toLocaleDateString():"xxx"}),Object(g.jsx)("th",{children:e.event?e.event.eventName:"xxx"}),Object(g.jsx)("th",{children:e.event?e.event.eventPrice:"xxx"}),Object(g.jsx)("th",{children:e.event?"".concat(e.event.eventRegistered?e.event.eventRegistered:0,"/").concat(e.event.eventCapacity):"xxx"}),Object(g.jsx)("th",{children:Object(g.jsx)(r.b,{to:"/event/"+e.event._id,children:Object(g.jsx)("button",{className:"btn btn-secondary btn-sm m-1",children:Object(g.jsx)("i",{className:"bi bi-eye"})})})})]})}var Z=function(e){var t;return Object(g.jsxs)("div",{className:"container-fluid justify-content-center",children:[Object(g.jsx)("div",{className:"row p-2 m-2 bg-success bg-opacity-50",children:Object(g.jsx)("div",{className:"col-7",children:Object(g.jsxs)("h4",{children:["\u0412\u0441\u0435 \u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438 ",e.events[0]?e.events[0].guideName:Object(g.jsx)(g.Fragment,{})]})})}),Object(g.jsx)("div",{className:"row p-2 m-2",children:Object(g.jsxs)("table",{className:"table table-striped table-hover table-sm",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(g.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(g.jsx)("th",{children:"\u0426\u0435\u043d\u0430"}),Object(g.jsx)("th",{children:"\u041c\u0435\u0441\u0442\u0430"}),Object(g.jsx)("th",{children:Object(g.jsx)("button",{className:"btn btn-secondary disabled",children:Object(g.jsx)("i",{className:"bi bi-eye"})})})]})}),Object(g.jsx)("tbody",{children:(t=e.events,t.length>0?t.map((function(e){return Object(g.jsx)(K,{event:e},e._id)})):Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"LOADING..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."}),Object(g.jsx)("th",{children:"..."})]}))})]})})]})},ee=function(e){var t=Object(a.f)(),c=Object(l.c)((function(t){return t.guides.find((function(t){return t._id===e.match.params.id}))})),n=Object(l.c)((function(e){return e.events.filter((function(e){return e.guideName===c.guideName}))}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"container-fluid justify-content-center",children:Object(g.jsx)("div",{className:"row order m-2 p-2 bg-success bg-opacity-75 align-items-center",children:Object(g.jsxs)("div",{className:"col",children:[Object(g.jsxs)("h1",{children:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438\u044f \u043e ",Object(g.jsx)("span",{className:"text-warning",children:"\u0413\u0438\u0434\u0435"})]}),Object(g.jsx)("button",{className:"btn btn-warning m-1",onClick:function(){return t.push("/")},children:"\u041d\u0430 \u0413\u043b\u0430\u0432\u043d\u0443\u044e"})]})})}),Object(g.jsx)("div",{className:"container justify-content-center",children:Object(g.jsx)("div",{className:"row m-2 p-2 align-items-center",children:Object(g.jsxs)("div",{className:"col text-center",children:[c?Object(g.jsxs)("h1",{children:["\u0418\u043c\u044f \u0413\u0438\u0434\u0430: ",c.guideName]}):Object(g.jsx)("p",{children:"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),c?Object(g.jsxs)("h2",{children:["\u041a\u0442\u043e \u044d\u0442\u043e\u0442 \u0433\u0438\u0434: ",c.guideDescription]}):Object(g.jsx)("p",{children:"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),c?Object(g.jsxs)("h2",{children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u0430: ",c.guideContact]}):Object(g.jsx)("p",{children:"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),c?Object(g.jsx)("img",{src:c.guidePhoto,alt:"QR"}):Object(g.jsx)("p",{children:"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),c?Object(g.jsxs)("h2",{children:["ID \u0413\u0438\u0434\u0430: ",c._id]}):Object(g.jsx)("p",{children:"\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"})]})})}),Object(g.jsx)(Z,{events:n})]})};var te=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e(u()),e(x()),e(v())}),[]),Object(g.jsxs)(r.a,{children:[Object(g.jsxs)(a.c,{children:[Object(g.jsx)(a.a,{path:"/",exact:!0,component:C}),Object(g.jsx)(a.a,{path:"/event/:id",component:M}),Object(g.jsx)(a.a,{path:"/create_event/",component:_}),Object(g.jsx)(a.a,{path:"/edit_event/:id",component:k}),Object(g.jsx)(a.a,{path:"/guides/:id",component:ee}),Object(g.jsx)(a.a,{path:"/create_guide",component:T}),Object(g.jsx)(a.a,{path:"/edit_guide/:id",component:I}),Object(g.jsx)(a.a,{path:"/orders/:id",component:Y}),Object(g.jsx)(a.a,{path:"/create_order/",component:z}),Object(g.jsx)(a.a,{path:"/admin",component:U}),Object(g.jsx)(a.a,{path:"*",component:function(){return Object(g.jsx)("h2",{className:"text-center",children:"404 NOT FOUND"})}})]}),Object(g.jsx)("p",{className:"m-1 text-center",children:" Guides Site. Made by Mikhail Lapshin. \xa9All rights reserved 2021"})]})},ce=c(34),ne={user:"admin",events:[],guides:[],orders:[]},se=c(53),ie=c(54),re=Object(ce.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(D.a)(Object(D.a)({},e),{},{events:t.payload});case o:return Object(D.a)(Object(D.a)({},e),{},{guides:t.payload});case d:return Object(D.a)(Object(D.a)({},e),{},{events:e.events.filter((function(e){return e._id!==t.payload}))});case b:return Object(D.a)(Object(D.a)({},e),{},{orders:t.payload});default:return e}}),Object(se.composeWithDevTools)(Object(ce.applyMiddleware)(ie.a)));i.a.render(Object(g.jsx)(l.a,{store:re,children:Object(g.jsx)(te,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.52ae0d4d.chunk.js.map